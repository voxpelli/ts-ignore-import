# TS Ignore Import

Ignores unwanted dependencies in TypeScript definitions. Useful for autogenerated declarations

[![npm version](https://img.shields.io/npm/v/ts-ignore-import.svg?style=flat)](https://www.npmjs.com/package/ts-ignore-import)
[![npm downloads](https://img.shields.io/npm/dm/ts-ignore-import.svg?style=flat)](https://www.npmjs.com/package/ts-ignore-import)
[![Module type: ESM](https://img.shields.io/badge/module%20type-esm-brightgreen)](https://github.com/voxpelli/badges-cjs-esm)
[![Types in JS](https://img.shields.io/badge/types_in_js-yes-brightgreen)](https://github.com/voxpelli/types-in-js)
[![neostandard javascript style](https://img.shields.io/badge/code_style-neostandard-7fffff?style=flat&labelColor=ff80ff)](https://github.com/neostandard/neostandard)
[![Follow @voxpelli@mastodon.social](https://img.shields.io/mastodon/follow/109247025527949675?domain=https%3A%2F%2Fmastodon.social&style=social)](https://mastodon.social/@voxpelli)

Adds `// @ts-ignore` to unwanted `import` and `require` targets in TypeScript definition files.

## Install

```bash
npm install ts-ignore-import
```

## Syntax

```bash
ts-ignore-import [...declaration files]
```

## Programmatic use

Very similar to CLI-use. See [type file](./index.d.ts).

## Examples

### Simplest

```bash
ts-ignore-import
```

### Allow some dependencies

```bash
ts-ignore-import --allow=bunyan-adapter --allow=express
```

### Advanced

```bash
ts-ignore-import \
  --allow=bunyan-adapter \
  --allow=express \
  'lib/**/*.d.ts'
```

## Input

One or more declaration files that will be processed. Supports glob patterns.

## Flags

### Core Flags

* `--allow`, `-a` – Marks a module as allowed. It will then not have a `// @ts-ignore` added to it. (Already added ignores are kept though)
* `--skip`, `-s` – Skip a specific file. Follows `.gitignore` syntax. Matched against file paths relative to resolved path of `tsconfig`.
* `--ts-config`, `-t` – Point to a `tsconfig.json` file to override any auto-discovered one


### Additional Flags

* `--debug` – Activates some very verbose logging
* `--dry-run` – Runs everything like normal, but doesn't save any changes
* `--help` – When set, this help will be printed
* `--silent` – When set, no feedback will be printed
* `--verbose`, `-v` – When set, more verbose feedback will be printed
* `--version` – When set, this tools version will be printed

## Config file

Optional. Uses [`cosmiconfig`](https://www.npmjs.com/package/cosmiconfig) to set it up. Useful for eg. `skipFiles`

### Possible file names

Non-exhaustive list:

* `.tsignoreimportrc` – JSON or YAML content
* `.tsignoreimportrc.json` – JSON content
* `.tsignoreimportrc.yml` – YAML content
* `tsignoreimportrc.config.js` – JS-file exporting the config
* `package.json` property: `tsIgnoreImport`

### Properties

* `allow` – an array of values that's same as `--allow`
* `files` – an array of one or more declaration files that will be processed. Supports glob patterns
* `skipFiles` – an array of values that's same as `--skip`
* `tsConfig` – same as `--ts-config`. Will get overridden by `--ts-config`

<!--## Used by

* [`example`](https://example.com/) – used by this one to do X and Y

## Similar modules

* [`example`](https://example.com/) – is similar in this way-->

## See also

* [`@hdsydsvenskan/ts-ignore-import`](https://github.com/Sydsvenskan/node-ts-ignore-import) – the original version of this project, created and released by me while I worked for HD-Sydsvenskan
